{"job":{"components":{"5465":{"id":5465,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":160,"y":272,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[5470],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"stage.smscampaignpreference"}}}},"visible":true},"2":{"slot":2,"name":"Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"smscampaignpreference"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"viporternumber"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"smscampaignid"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"customerprofileid"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"consent"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"campaigntypename"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"requestdatetimeutc"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"notificationlist"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"activeflag"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"scpid"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"scpcreatedatetimeutc"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"scpmodifieddatetimeutc"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"scpmodifieddatetimeutc_old"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"indicator"}}}},"visible":true},"4":{"slot":4,"name":"Trim Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"stage"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"5469":{"id":5469,"inputCardinality":"ZERO_OR_MANY","outputCardinality":"MANY","implementationID":-1266674941,"x":432,"y":272,"width":32,"height":32,"inputConnectorIDs":[5470],"outputConnectorIDs":[5478],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Pull records with changes and add version date"}}}},"visible":true},"2":{"slot":2,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":" SELECT \n DISTINCT \n scp.viporternumber\n ,scp.scpmodifieddatetimeutc as versionstartdatetimeutc\n ,CAST('9999-12-31 23:59:59' as datetime) as versionenddatetimeutc \n ,scp.campaigntypename\n ,scp.SMSCampaignID\n ,scp.notificationlist\n ,scp.customerprofileid\n ,scp.consent\n ,scp.requestdatetimeutc\n ,scp.activeflag\n ,scp.scpid\n ,scp.scpcreatedatetimeutc\n ,scp.scpmodifieddatetimeutc\n, getDate() as createdttm\n FROM $T{stage.smscampaignpreference} scp"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"5477":{"id":5477,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":211954775,"x":736,"y":272,"width":32,"height":32,"inputConnectorIDs":[5478],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Add all records to history table"}}}},"visible":true},"2":{"slot":2,"name":"Target Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"smscampaignpreferencehistory"}}}},"visible":true},"3":{"slot":3,"name":"Fix Data Type Mismatches","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"4":{"slot":4,"name":"Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"viporternumber"},"2":{"slot":2,"type":"STRING","value":"viporternumber"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"smscampaignid"},"2":{"slot":2,"type":"STRING","value":"smscampaignid"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"versionstartdatetimeutc"},"2":{"slot":2,"type":"STRING","value":"versionstartdatetimeutc"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"versionenddatetimeutc"},"2":{"slot":2,"type":"STRING","value":"versionenddatetimeutc"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"customerprofileid"},"2":{"slot":2,"type":"STRING","value":"customerprofileid"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"consent"},"2":{"slot":2,"type":"STRING","value":"consent"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"campaigntypename"},"2":{"slot":2,"type":"STRING","value":"campaigntypename"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"requestdatetimeutc"},"2":{"slot":2,"type":"STRING","value":"requeststartdatetimeutc"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"notificationlist"},"2":{"slot":2,"type":"STRING","value":"notificationlist"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"activeflag"},"2":{"slot":2,"type":"STRING","value":"activeflag"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"scpid"},"2":{"slot":2,"type":"STRING","value":"scpid"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"scpcreatedatetimeutc"},"2":{"slot":2,"type":"STRING","value":"scpcreatedatetimeutc"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"scpmodifieddatetimeutc"},"2":{"slot":2,"type":"STRING","value":"scpmodifieddatetimeutc"}}},"14":{"slot":14,"values":{"1":{"slot":1,"type":"STRING","value":"createdttm"},"2":{"slot":2,"type":"STRING","value":"createdttm"}}}},"visible":true},"5":{"slot":5,"name":"Truncate","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Append"}}}},"visible":true},"6":{"slot":6,"name":"Automatic Compression","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":false},"7":{"slot":7,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"public"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"}},"connectors":{"5478":{"id":5478,"sourceID":5469,"targetID":5477},"5470":{"id":5470,"sourceID":5465,"targetID":5469}},"canUndo":true,"undoCommand":"Set Parameter","undoCreated":1568321028966,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"5489":{"id":5489,"x":29,"y":68,"width":446,"height":40,"text":"Add new SMSCampaignHistory and set the end date to '9999-12-31 23:59:59'","colour":"e6e63c"},"15598":{"id":15598,"x":59,"y":204,"width":793,"height":135,"text":"","colour":"e6e63c"}},"noteConnectors":{},"variables":{},"grids":{}},"info":{"name":"SMS - SMSCampaignPreferenceHistory_new","description":null,"type":"TRANSFORMATION"}}