{"job":{"components":{"88611":{"id":88611,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":253,"y":160,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[88614],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"surveymonkeyresponse"}}}},"visible":true},"2":{"slot":2,"name":"Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"surveymonkeyresponse"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"response_status"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"pagecount"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"date_created"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"ip_address"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"question_count"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"survey_id"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"date_modified"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"customerid"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"id"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"total_time"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"createdttm"}}}},"visible":true},"4":{"slot":4,"name":"Trim Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"etl"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"88612":{"id":88612,"inputCardinality":"ZERO_OR_MANY","outputCardinality":"MANY","implementationID":-1266674941,"x":435,"y":161,"width":32,"height":32,"inputConnectorIDs":[88614],"outputConnectorIDs":[88615],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"format_response"}}}},"visible":true},"2":{"slot":2,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT \nCAST(survey_id AS int) AS surveymonkeysurveyid\n       , CAST(id AS bigint) AS surveymonkeyresponseid\n       , date_created AS surveyresponsecreated\n\t   , to_timestamp (LEFT(date_created,19),'YYYY-MM-DD HH24:MI:SS') AS surveyresponsecreatedatetimeutc\n       , response_status AS surveyresponsestatus\n       , CAST(question_count AS int) AS surveyresponsequestioncount\n       , date_modified AS surveyresponsemodified\n\t   , to_timestamp (LEFT(date_modified,19),'YYYY-MM-DD HH24:MI:SS') AS surveyresponsemodifieddatetimeutc\n       , CAST(customerid AS int)\n       , ip_address AS ipaddress\n       --, CAST(total_time AS int) AS surveyresponsesecondtotal\n       ,CAST(CAST(total_time AS decimal(10,2))AS int) AS surveyresponsesecondtotal\n       , createdttm\nFROM $T{surveymonkeyresponse}"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"88613":{"id":88613,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":-1848704949,"x":587,"y":163,"width":32,"height":32,"inputConnectorIDs":[88615],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"surveymonkeysurveyresponse"}}}},"visible":true},"2":{"slot":2,"name":"Target Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"surveymonkeysurveyresponse"}}}},"visible":true},"3":{"slot":3,"name":"Fix Data Type Mismatches","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"4":{"slot":4,"name":"Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"surveymonkeysurveyid"},"2":{"slot":2,"type":"STRING","value":"surveymonkeysurveyid"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"surveymonkeyresponseid"},"2":{"slot":2,"type":"STRING","value":"surveymonkeyresponseid"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"surveyresponsecreated"},"2":{"slot":2,"type":"STRING","value":"surveyresponsecreated"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"surveyresponsecreatedatetimeutc"},"2":{"slot":2,"type":"STRING","value":"surveyresponsecreatedatetimeutc"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"surveyresponsestatus"},"2":{"slot":2,"type":"STRING","value":"surveyresponsestatus"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"surveyresponsequestioncount"},"2":{"slot":2,"type":"STRING","value":"surveyresponsequestioncount"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"surveyresponsemodifieddatetimeutc"},"2":{"slot":2,"type":"STRING","value":"surveyresponsemodifieddatetimeutc"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"surveyresponsemodified"},"2":{"slot":2,"type":"STRING","value":"surveyresponsemodified"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"customerid"},"2":{"slot":2,"type":"STRING","value":"customerid"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"ipaddress"},"2":{"slot":2,"type":"STRING","value":"ipaddress"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"surveyresponsesecondtotal"},"2":{"slot":2,"type":"STRING","value":"surveyresponsesecondtotal"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"createdttm"},"2":{"slot":2,"type":"STRING","value":"createdttm"}}}},"visible":true},"5":{"slot":5,"name":"Unique Keys","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"surveymonkeysurveyid"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"surveymonkeyresponseid"}}}},"visible":true},"6":{"slot":6,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"web"}}}},"visible":true},"7":{"slot":7,"name":"Update Strategy","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Delete/Insert"}}}},"visible":true}},"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Message","mapTo":"Errormessage"}},"expectedFailure":null,"activationStatus":"ENABLED"}},"connectors":{"88615":{"id":88615,"sourceID":88612,"targetID":88613},"88614":{"id":88614,"sourceID":88611,"targetID":88612}},"canUndo":false,"undoCommand":"","undoCreated":-1,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"88610":{"id":88610,"x":245,"y":2,"width":325,"height":89,"text":"Format and load survey responses into web schema\n\ntotal_time is converted to a decimal before an int in case there are unusual number of decimal places in the value\n\nupdated:2019-12-04","colour":"e6e63c"}},"noteConnectors":{},"variables":{},"grids":{}},"info":{"name":"CSAT - SM_SurveyResponse_Load","description":"format and load responses in the web schema","type":"TRANSFORMATION"}}