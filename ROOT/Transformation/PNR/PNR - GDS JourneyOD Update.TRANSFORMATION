{"job":{"components":{"64858":{"id":64858,"inputCardinality":"ZERO_OR_MANY","outputCardinality":"MANY","implementationID":-1266674941,"x":464,"y":208,"width":32,"height":32,"inputConnectorIDs":[64862],"outputConnectorIDs":[64861],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"generatecalculationfields"}}}},"visible":true},"2":{"slot":2,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT \ns.pnr\n, s.passengerid\n, ISNULL(pp.gdsmultiplebooking,0) AS gdsmultiplebookingflag\n, ISNULL(pp.journeyod,'') AS journeyod\n, ISNULL(pp.samedayroundtrip,0) AS samedayroundtripflag\n\nFROM $T{stage.pnrpassengerevent} AS s\t\n\tINNER JOIN stage.pnrpassengergdsbookingjourneyod AS pp\n    ON s.pnr = pp.pnr\n    AND s.passengerid = pp.passengerid\nWHERE EXISTS (SELECT 1 FROM stage.pnrpassengereventlist AS ppel\n\t\t\t\tWHERE s.pnr = ppel.pnr)    \n\n\n"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"64859":{"id":64859,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":208,"y":208,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[64862],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"stage.pnrpassengerevent"}}}},"visible":true},"2":{"slot":2,"name":"Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pnrpassengerevent"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pnr"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"passengerid"}}}},"visible":true},"4":{"slot":4,"name":"Trim Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"stage"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"64860":{"id":64860,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":-1848704949,"x":710,"y":204,"width":32,"height":32,"inputConnectorIDs":[64861],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"stage.passengerflighteventcalc"}}}},"visible":true},"2":{"slot":2,"name":"Target Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pnrpassengereventcalc"}}}},"visible":true},"3":{"slot":3,"name":"Fix Data Type Mismatches","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"4":{"slot":4,"name":"Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"passengerid"},"2":{"slot":2,"type":"STRING","value":"passengerid"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"pnr"},"2":{"slot":2,"type":"STRING","value":"pnr"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"gdsmultiplebookingflag"},"2":{"slot":2,"type":"STRING","value":"gdsmultiplejourneyflag"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"samedayroundtripflag"},"2":{"slot":2,"type":"STRING","value":"samedayroundtripflag"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"journeyod"},"2":{"slot":2,"type":"STRING","value":"journeyod"}}}},"visible":true},"5":{"slot":5,"name":"Unique Keys","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"passengerid"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"pnr"}}}},"visible":true},"6":{"slot":6,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"stage"}}}},"visible":true},"7":{"slot":7,"name":"Update Strategy","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Update/Insert"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"}},"connectors":{"64861":{"id":64861,"sourceID":64858,"targetID":64860},"64862":{"id":64862,"sourceID":64859,"targetID":64858}},"canUndo":false,"undoCommand":"","undoCreated":-1,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"64856":{"id":64856,"x":181,"y":12,"width":534,"height":68,"text":"Add PNR flag columns and Journey OD to the events\n\nupdated: 2019-11-25","colour":"e6e63c"},"64857":{"id":64857,"x":400,"y":122,"width":129,"height":187,"text":"\n\n\n\n\n\n","colour":"e6e63c"}},"noteConnectors":{},"variables":{},"grids":{}},"info":{"name":"PNR - GDS JourneyOD Update","description":"","type":"TRANSFORMATION"}}