{"job":{"components":{"27555":{"id":27555,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":180,"y":168,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[27558],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"etl.ods_passengerfeecharge"}}}},"visible":true},"2":{"slot":2,"name":"Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ods_passengerfeecharge"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"passengerid"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"feenumber"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"createduserid"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"createdutc"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"chargenumber"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"chargetype"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"chargecode"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"ticketcode"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"currencycode"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"chargeamount"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"chargedetail"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"foreigncurrencycode"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"foreignamount"}}},"14":{"slot":14,"values":{"1":{"slot":1,"type":"STRING","value":"exchangerate"}}}},"visible":true},"4":{"slot":4,"name":"Trim Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"etl"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"27556":{"id":27556,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":-1848704949,"x":606,"y":179,"width":32,"height":32,"inputConnectorIDs":[27559],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"passengerfeecharge"}}}},"visible":true},"2":{"slot":2,"name":"Target Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"passengerfeecharge"}}}},"visible":true},"3":{"slot":3,"name":"Fix Data Type Mismatches","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"4":{"slot":4,"name":"Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"passengerid"},"2":{"slot":2,"type":"STRING","value":"passengerid"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"feenumber"},"2":{"slot":2,"type":"STRING","value":"feenumber"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"chargenumber"},"2":{"slot":2,"type":"STRING","value":"chargenumber"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"createduserid"},"2":{"slot":2,"type":"STRING","value":"createduserid"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"createdutc"},"2":{"slot":2,"type":"STRING","value":"createdutc"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"chargetype"},"2":{"slot":2,"type":"STRING","value":"chargetype"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"chargecode"},"2":{"slot":2,"type":"STRING","value":"chargecode"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"ticketcode"},"2":{"slot":2,"type":"STRING","value":"ticketcode"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"currencycode"},"2":{"slot":2,"type":"STRING","value":"currencycode"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"chargeamount"},"2":{"slot":2,"type":"STRING","value":"chargeamount"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"chargedetail"},"2":{"slot":2,"type":"STRING","value":"chargedetail"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"foreigncurrencycode"},"2":{"slot":2,"type":"STRING","value":"foreigncurrencycode"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"foreignamount"},"2":{"slot":2,"type":"STRING","value":"foreignamount"}}},"14":{"slot":14,"values":{"1":{"slot":1,"type":"STRING","value":"exchangerate"},"2":{"slot":2,"type":"STRING","value":"exchangerate"}}},"15":{"slot":15,"values":{"1":{"slot":1,"type":"STRING","value":"chargeamount"},"2":{"slot":2,"type":"STRING","value":"originalchargeamount"}}}},"visible":true},"5":{"slot":5,"name":"Unique Keys","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"passengerid"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"feenumber"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"chargenumber"}}}},"visible":true},"6":{"slot":6,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ods"}}}},"visible":true},"7":{"slot":7,"name":"Update Strategy","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Update/Insert"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"27557":{"id":27557,"inputCardinality":"ZERO_OR_MANY","outputCardinality":"MANY","implementationID":-1266674941,"x":397,"y":173,"width":32,"height":32,"inputConnectorIDs":[27558],"outputConnectorIDs":[27559],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"exclude_skyledgerUpdates"}}}},"visible":true},"2":{"slot":2,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT * \nFROM $T{etl.ods_passengerfeecharge} AS npfc\nWHERE NOT EXISTS (SELECT 1 FROM ods.passengerfeecharge AS pfc\n               \tWHERE npfc.passengerid = pfc.passengerid\n                AND npfc.chargenumber = pfc.chargenumber\n                AND npfc.feenumber = pfc.feenumber\n                AND pfc.skyledgerkey > 0)\n"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"}},"connectors":{"27558":{"id":27558,"sourceID":27555,"targetID":27557},"27559":{"id":27559,"sourceID":27557,"targetID":27556}},"canUndo":false,"undoCommand":"","undoCreated":-1,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"27554":{"id":27554,"x":139,"y":-16,"width":405,"height":127,"text":"Load new pfc records into the ods schema\n\nexclude any updates on the pfc the skyledger process has touched \n\n\nupdated: 2018-10-15","colour":"e6e63c"}},"noteConnectors":{},"variables":{},"grids":{}},"info":{"name":"ODS - PassengerFeeCharge Load","description":"","type":"TRANSFORMATION"}}