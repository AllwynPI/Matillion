{"job":{"components":{"24233":{"id":24233,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-178,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[24246],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"24234":{"id":24234,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-741198691,"x":34,"y":4,"width":32,"height":32,"inputConnectorIDs":[24246],"outputSuccessConnectorIDs":[24241],"outputFailureConnectorIDs":[24248],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Message","mapTo":"Errormessage"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IropTable"}}}},"visible":true},"2":{"slot":2,"name":"Database Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Microsoft SQL Server"}}}},"visible":true},"3":{"slot":3,"name":"Connection URL","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${db_server_url_operations}"}}}},"visible":true},"6":{"slot":6,"name":"Usename","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${db_user_operations}"}}}},"visible":true},"7":{"slot":7,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":"${db_pswd_operations}"}}}},"visible":true},"8":{"slot":8,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"select \nIropStatusID\n, \"IropStatus\" as iropcode\n, \"description\" as iropdescription\n, \"category\" as category\n, \"Controllable\" as controllableflag\n, \"Safety\" as controllablesafetyflag\n, \"maintenance\" as maintenanceflag\n, PublicDescriptionEN as publiciropenglishdescription\n, PublicDescriptionFR as publiciropfrenchdescription\nfrom dbo.iropstatus"}}}},"visible":true},"9":{"slot":9,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ops_irop"}}}},"visible":true},"10":{"slot":10,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"porterdatawarehouse"}}}},"visible":true},"11":{"slot":11,"name":"Connection Options","elements":{},"visible":true},"12":{"slot":12,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"2"}}}},"visible":true},"13":{"slot":13,"name":"Distribution Style","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Even"}}}},"visible":true},"14":{"slot":14,"name":"Distribution Key","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"15":{"slot":15,"name":"Sort Key","elements":{},"visible":true},"16":{"slot":16,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"etl"}}}},"visible":true},"17":{"slot":17,"name":"Sort Key Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Compound"}}}},"visible":false},"18":{"slot":18,"name":"Primary Key","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"96":{"slot":96,"name":"Location","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"s3://<bucket>/<path>"}}}},"visible":false},"97":{"slot":97,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"98":{"slot":98,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"99":{"slot":99,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"101":{"slot":101,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"102":{"slot":102,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"103":{"slot":103,"name":"Data Selection","elements":{},"visible":false},"104":{"slot":104,"name":"Data Source Filter","elements":{},"visible":false},"105":{"slot":105,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"106":{"slot":106,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"1001":{"slot":1001,"name":"HIDDEN","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":" drop table if exists \"etl\".\"customerdatamart\" cascade; create table \"etl\".\"customerdatamart\" (\n\t\"DWCustomerID\" DECIMAL(19, 0),\n\t\"FirstName\" VARCHAR(32),\n\t\"LastName\" VARCHAR(32),\n\t\"AddressLine1\" VARCHAR(52),\n\t\"AddressLine2\" VARCHAR(52),\n\t\"City\" VARCHAR(32),\n\t\"ProvinceState\" VARCHAR(3),\n\t\"PostalCode\" VARCHAR(10),\n\t\"CountryCode\" VARCHAR(2),\n\t\"EMailAddress\" VARCHAR(266),\n\t\"EMailPermissionFlag\" VARCHAR(1),\n\t\"MemberFlag\" VARCHAR(1),\n\t\"MemberID\" VARCHAR(20),\n\t\"MemberTierCode\" VARCHAR(3),\n\t\"MemberTierStartDate\" DATETIME,\n\t\"MemberTierEndDate\" DATETIME,\n\t\"MemberTierChangeAgent\" VARCHAR(64),\n\t\"MemberAddressConfirmationDate\" DATETIME,\n\t\"MemberBalance\" DECIMAL(10, 0),\n\t\"MemberLifetimeQualifyingPoints\" DECIMAL(10, 0),\n\t\"MemberYTDQualifyingPoints\" DECIMAL(10, 0),\n\t\"MemberLastEarnDate\" DATETIME,\n\t\"MemberLastBurnDate\" DATETIME,\n\t\"SegmentLanguage\" VARCHAR(17),\n\t\"SegmentIsAgent\" VARCHAR(1),\n\t\"SegmentIsSpecialOffers\" VARCHAR(1),\n\t\"EMailSourceCode\" VARCHAR(20),\n\t\"EMailTypeCode\" VARCHAR(20),\n\t\"OriginPreference\" VARCHAR(3),\n\t\"OriginFlightLast\" VARCHAR(3),\n\t\"OriginFlightPropensity\" VARCHAR(3),\n\t\"OriginAirport\" VARCHAR(3),\n\t\"OriginName\" VARCHAR(20),\n\t\"IsOACompetitorFlag\" VARCHAR(1),\n\t\"PNRLast\" VARCHAR(6),\n\t\"PNRBookingDateLast\" DATETIME,\n\t\"ResponsysRIID\" DECIMAL(19, 0),\n\t\"EmailDeliverabilityStatus\" VARCHAR(1),\n\t\"EmailCustomerRank\" DECIMAL(5, 0),\n\t\"CreatedDate\" DATETIME,\n\t\"ModifiedDate\" DATETIME,\n\t\"LastActivityDate\" VARCHAR(10),\n\t\"ActiveCustomerFlag\" VARCHAR(1),\n\t\"VIPorterQualifyingSpend2014\" DECIMAL(10, 0),\n\t\"VIPorterQualifyingSpend2015\" DECIMAL(10, 0),\n\t\"VIPorterQualifyingSpend2016\" DECIMAL(10, 0),\n\t\"VIPorterNumber\" VARCHAR(20),\n\t\"VIPorterPointBalance\" DECIMAL(10, 0),\n\t\"VIPorterQualifyingSpendYTD\" DECIMAL(10, 0)\n) DISTSTYLE EVEN"}}}},"visible":false},"1034":{"slot":1034,"name":"Load Options","elements":{},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"24235":{"id":24235,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":528,"y":0,"width":32,"height":32,"inputConnectorIDs":[24243],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Success 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"24236":{"id":24236,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":176,"y":144,"width":32,"height":32,"inputConnectorIDs":[24247,24248,24249],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[24245],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"24237":{"id":24237,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":438858066,"x":336,"y":144,"width":32,"height":32,"inputConnectorIDs":[24245],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[24244],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SNS Message 0"}}}},"visible":true},"2":{"slot":2,"name":"AWS Region","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"us-west-2"}}}},"visible":true},"3":{"slot":3,"name":"Topic Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DW_ETL"}}}},"visible":true},"4":{"slot":4,"name":"Subject","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${job_name} - Job Failed"}}}},"visible":true},"5":{"slot":5,"name":"Message","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Environment: ${environment_name}\n\nJob failed: ${job_name}\n\nError Message: ${Errormessage}\n"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"24238":{"id":24238,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":224,"y":0,"width":32,"height":32,"inputConnectorIDs":[24241],"outputSuccessConnectorIDs":[24242],"outputFailureConnectorIDs":[24249],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ops_irop_load"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"OPS - iroptable_load"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"24239":{"id":24239,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":512,"y":144,"width":32,"height":32,"inputConnectorIDs":[24244],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"24240":{"id":24240,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":237373210,"x":377,"y":0,"width":32,"height":32,"inputConnectorIDs":[24242],"outputSuccessConnectorIDs":[24243],"outputFailureConnectorIDs":[24247],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Truncate Tables 0"}}}},"visible":true},"2":{"slot":2,"name":"Tables to Truncate","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ops_irop"}}}},"visible":true},"3":{"slot":3,"name":"Schema ","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"etl"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"24241":{"id":24241,"sourceID":24234,"targetID":24238},"24242":{"id":24242,"sourceID":24238,"targetID":24240},"24243":{"id":24243,"sourceID":24240,"targetID":24235}},"failureConnectors":{"24247":{"id":24247,"sourceID":24240,"targetID":24236},"24248":{"id":24248,"sourceID":24234,"targetID":24236},"24249":{"id":24249,"sourceID":24238,"targetID":24236}},"unconditionalConnectors":{"24244":{"id":24244,"sourceID":24237,"targetID":24239},"24245":{"id":24245,"sourceID":24236,"targetID":24237},"24246":{"id":24246,"sourceID":24233,"targetID":24234}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"canUndo":true,"undoCommand":"Rename Job","undoCreated":1569266210307,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{},"variables":{},"grids":{}},"info":{"name":"20191212_OPS - iroptable","description":"irop table","type":"ORCHESTRATION"}}